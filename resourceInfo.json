{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "ResourceInfo",
  "description": "Information about the resource. Requires fields determined by the USFWS Alaska Region DST for Projects.",
  "$id": "resourceInfo.json#",
  "version": "0.1.0",
  "type": "object",
  "required": [
    "status",
    "pointOfContact",
    "citation",
    "timePeriod"
  ],
  "errorMessage": {
    "required": {
      "pointOfContact": "Project personnel are required to be listed under the 'Points of Contact' section. At least one person must be listed as 'pointOfContact'. Additional personnel roles should include 'AKRegionDataTrustee', 'AKRegionDataSteward', 'AKRegionDataCustodian', and 'principalInvestigator'.",
      "status": "Project status is required under the 'Basic Information' section. Choose status from the following options: completed, onGoing, proposed, or accepted.",
      "timePeriod": "Project start and/or end dates are required under the 'Time Period' section."
    }
  },
  "properties": {
    "status": {
      "$ref": "#/definitions/Status"
    },
    "pointOfContact": {
      "$ref": "#/definitions/PointOfContact"
    },
    "citation": {
      "$ref": "#/definitions/Citation"
    },
    "timePeriod": {
      "$ref": "#/definitions/TimePeriod"
    }
  },
  "definitions": {
    "PointOfContact": {
      "type": "array",
      "contains": {
        "properties": {
          "role": {
            "const": "pointOfContact",
            "errorMessage": "Point of Contact section must have at least one person listed as the role 'pointOfContact'."
          }
        },
      },
      "required": [
        "role"
      ],
      "title": "PointOfContact"
    },
    "Citation": {
      "type": "object",
      "properties": {
        "date": {
          "type": "array",
          "minItems": 1
        },
        "responsibleParty": {
          "type": "array",
          "contains": {
            "properties": {
              "role": {
                "const": "pointOfContact",
                "errorMessage": "One role for Responsible Parties within the Citation section must be pointOfContact."
              }
            }
          }
        },
        "onlineResource": {
          "type": "array",
          "minItems": 1
        }
      },
      "required": [
        "date",
        "responsibleParty",
        "onlineResource"
      ],
      "errorMessage": {
        "required": {
          "date": "At least one date (e.g. acquisition, creation, revision) must be provided in the Citation section.",
          "responsibleParty": "At least one Responsible Party must be provided in the Citation section. At least one role must be listed a pointOfContact.",
          "onlineResource": "At least one onlineResource should be provided within the Citation section. A link to the project Regional Data Repository folder can be used if no other online resource exists yet."
        }
      },
      "title": "Citation"
    },
    "Status": {
      "type": "array",
      "contains": {
        "type": "string",
        "enum": [
          "completed",
          "onGoing",
          "proposed",
          "accepted"
        ],
        "errorMessage": "Project status in the 'Basic Information' section must be one of: 'completed', 'onGoing', 'proposed', or 'accepted'"
      },
      "title": "Status"
    },
    "TimePeriod": {
      "type": "object",
      "properties": {
        "dateTime": {
          "type": "object",
          "minItems": 1
        }
      },
      "title": "TimePeriod"
    }
  }
}
